{"version":3,"sources":["users.js"],"names":[],"mappings":"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","file":"users-compiled.js","sourcesContent":["import { polyfill } from 'es6-promise';\nimport request from 'axios';\nimport { push } from 'react-router-redux';\n\nimport * as types from 'types';\n\npolyfill();\n\nconst getMessage = res => res.response && res.response.data && res.response.data.message;\n/*\n * Utility function to make AJAX requests using isomorphic fetch.\n * You can also use jquery's $.ajax({}) if you do not want to use the\n * /fetch API.\n * @param Object Data you wish to pass to the server\n * @param String HTTP method, e.g. post, get, put, delete\n * @param String endpoint - defaults to /login\n * @return Promise\n */\nfunction makeUserRequest(method, data, api = '/login') {\n  return request[method](api, data);\n}\n\n\n// Log In Action Creators\nexport function beginLogin() {\n  return { type: types.MANUAL_LOGIN_USER };\n}\n\nexport function loginSuccess(message) {\n  return {\n    type: types.LOGIN_SUCCESS_USER,\n    message\n  };\n}\n\nexport function loginError(message) {\n  return {\n    type: types.LOGIN_ERROR_USER,\n    message\n  };\n}\n\n// Sign Up Action Creators\nexport function signUpError(message) {\n  return {\n    type: types.SIGNUP_ERROR_USER,\n    message\n  };\n}\n\nexport function beginSignUp() {\n  return { type: types.SIGNUP_USER };\n}\n\nexport function signUpSuccess(message) {\n  return {\n    type: types.SIGNUP_SUCCESS_USER,\n    message\n  };\n}\n\n// Log Out Action Creators\nexport function beginLogout() {\n  return { type: types.LOGOUT_USER};\n}\n\nexport function logoutSuccess() {\n  return { type: types.LOGOUT_SUCCESS_USER };\n}\n\nexport function logoutError() {\n  return { type: types.LOGOUT_ERROR_USER };\n}\n\nexport function toggleLoginMode() {\n  return { type: types.TOGGLE_LOGIN_MODE };\n}\n\nexport function manualLogin(data) {\n  return dispatch => {\n    dispatch(beginLogin());\n\n    return makeUserRequest('post', data, '/login')\n      .then(response => {\n        if (response.status === 200) {\n          dispatch(loginSuccess(response.data.message));\n          dispatch(push('/'));\n        } else {\n          dispatch(loginError('Oops! Something went wrong!'));\n        }\n      })\n      .catch(err => {\n        dispatch(loginError(getMessage(err)));\n      });\n  };\n}\n\nexport function signUp(data) {\n  return dispatch => {\n    dispatch(beginSignUp());\n\n    return makeUserRequest('post', data, '/signup')\n      .then(response => {\n        if (response.status === 200) {\n          dispatch(signUpSuccess(response.data.message));\n          dispatch(push('/'));\n        } else {\n          dispatch(signUpError('Oops! Something went wrong'));\n        }\n      })\n      .catch(err => {\n        dispatch(signUpError(getMessage(err)));\n      });\n  };\n}\n\nexport function logOut() {\n  return dispatch => {\n    dispatch(beginLogout());\n\n    return makeUserRequest('post', null, '/logout')\n      .then(response => {\n        if (response.status === 200) {\n          dispatch(logoutSuccess());\n        } else {\n          dispatch(logoutError());\n        }\n      });\n  };\n}"]}